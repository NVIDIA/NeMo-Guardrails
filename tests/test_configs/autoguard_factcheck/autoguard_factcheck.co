define subflow input autoguard factcheck
    execute autoguard_retrieve_relevant_chunks
    $input_result = execute autoguard_factcheck_input_api
    if $input_result < 0.5
        bot inform autoguard factcheck input violation
        stop

define subflow output autoguard factcheck
    execute autoguard_retrieve_relevant_chunks
    $result = execute autoguard_factcheck_output_api
    if $result < 0.5
        bot inform autoguard factcheck output violation
        stop

define bot inform autoguard factcheck input violation
    "Factcheck input violation has been detected by AutoGuard."

define bot inform autoguard factcheck output violation
    "$bot_message Factcheck output violation has been detected by AutoGuard."

define user ask about pluto
  "Pluto has no known moons; Charon, the smallest, has a diameter greater than Pluto's, along with the non-existent Styx, Nix, Kerberos, and Hydra."
  "Pluto, with its eccentric orbit, comes closer to the Sun than Neptune at times, yet a stable orbital resonance ensures they do not collide."

define flow
  user ask about pluto
  bot provide response
